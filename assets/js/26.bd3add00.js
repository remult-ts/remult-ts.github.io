(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{469:function(e,t,a){"use strict";a.r(t);var s=a(114),o=Object(s.a)({},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"deployment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deployment"}},[e._v("#")]),e._v(" Deployment")]),e._v(" "),a("p",[e._v("This application is a standard node js application, that uses postgres as a database and can be deployed to any web server or cloud service that has node js and postgres.")]),e._v(" "),a("p",[e._v("In this tutorial we'll use heroku as they provide a great free plan and a very easy deployment experience.")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),a("p",[e._v("Before we start working on deployment, make sure that all the changes are committed to git, you can do that from visual studio code or by running the following command:")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(".")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" commit -m "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"before deployment"')]),e._v("\n")])])])]),e._v(" "),a("h2",{attrs:{id:"step-1-create-an-heroku-user-and-install-their-tools"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-1-create-an-heroku-user-and-install-their-tools"}},[e._v("#")]),e._v(" Step 1 Create an Heroku User and install their tools")]),e._v(" "),a("p",[e._v("Goto, "),a("a",{attrs:{href:"https://signup.heroku.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("heroku's signup page"),a("OutboundLink")],1),e._v(" signup and create a user.")]),e._v(" "),a("p",[e._v("The heroku free plan provides for 550 free web server hours (they call it dyno) per month. You can increase that to 1000 hours by just adding your credit card info (no cost)")]),e._v(" "),a("p",[e._v("Next, download and install the "),a("a",{attrs:{href:"https://devcenter.heroku.com/articles/heroku-cli#download-and-install",target:"_blank",rel:"noopener noreferrer"}},[e._v("heroku command line tool"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("After that, goto the command line and run")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[e._v("heroku login\n")])])]),a("p",[e._v("And enter your credentials.")]),e._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),a("p",[e._v("If the command line can't find the "),a("code",[e._v("heroku")]),e._v(" command, please close and reopen the command line window.")])]),e._v(" "),a("h2",{attrs:{id:"step-2-create-the-heroku-application"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-2-create-the-heroku-application"}},[e._v("#")]),e._v(" Step 2 Create the Heroku Application")]),e._v(" "),a("p",[e._v("In the Command line, in the project folder, we can use the "),a("code",[e._v("apps:create")]),e._v(" command to create our project.")]),e._v(" "),a("ol",[a("li",[e._v("We can send it the region we want to use (by default it's USA, for europe and middleeast we recommend europe: "),a("code",[e._v("--region eu")]),e._v(")")]),e._v(" "),a("li",[e._v("Specify the name of the project, ("),a("code",[e._v("my-project")]),e._v(" in our case) - that name will be used as the prefix for your application's url ("),a("code",[e._v("https://my-project.herokuapp.com")]),e._v(" on our case).\nThe name you want may be taken - so keep trying names until you reach a name that is free, or run the command without a name, and "),a("code",[e._v("heroku")]),e._v(" will generate a name for you.")])]),e._v(" "),a("p",[e._v("Here's the command with the specific name "),a("code",[e._v("my-project")]),e._v(" in the "),a("code",[e._v("eu")]),e._v(" region")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[e._v("heroku apps:create --region eu  my-project\n")])])]),a("p",[e._v("Here's the result we got, when we allowed heroku to determine the name ðŸ˜ƒ")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[e._v("Creating app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(". done, â¬¢ desolate-fjord-53965, region is eu\nhttps://desolate-fjord-53965.herokuapp.com/ "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" https://git.heroku.com/desolate-fjord-53965.git\n")])])]),a("ol",[a("li",[e._v("The first part of the result is our website url - once we'll install the app, we can navigate there.")]),e._v(" "),a("li",[e._v("The second part of the result is the url for the git repository.")])]),e._v(" "),a("h2",{attrs:{id:"step-3-provision-the-database-on-heroku"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-3-provision-the-database-on-heroku"}},[e._v("#")]),e._v(" Step 3 Provision the database on Heroku")]),e._v(" "),a("p",[e._v("run:")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[e._v("heroku addons:create heroku-postgresql:hobby-dev\n")])])]),a("h2",{attrs:{id:"step-4-set-the-authentication-token-sign-key"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-4-set-the-authentication-token-sign-key"}},[e._v("#")]),e._v(" Step 4 Set the Authentication token sign key")]),e._v(" "),a("p",[e._v("The "),a("strong",[e._v("Authentication token sign key")]),e._v(", is used to authenticate the user that uses the application. It's a secret key, that only the server should know and is used to decrypt information about the user, assuring that it is indeed the correct user.")]),e._v(" "),a("p",[e._v("It's important to set this value to some random crazy value that no one will have. A hacker with this key, will be able to impersonate anyone on your web site.")]),e._v(" "),a("p",[e._v("To read more about it, see "),a("a",{attrs:{href:"https://jwt.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("jwt"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("This key is required, so set it using:")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[e._v("heroku config:set "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("TOKEN_SIGN_KEY")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("woEczJuvjuOWmIakjdvH\n")])])]),a("h2",{attrs:{id:"step-5-deploy-the-application-using-git"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step-5-deploy-the-application-using-git"}},[e._v("#")]),e._v(" Step 5 Deploy the application using git")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" push heroku master -f\n")])])]),a("ul",[a("li",[e._v("This will take a few minutes, and will report the process of deploying the app to heroku")]),e._v(" "),a("li",[e._v("You'll need to repeat this command whenever you want to update the code of your application.")])]),e._v(" "),a("h2",{attrs:{id:"and-we-re-done"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#and-we-re-done"}},[e._v("#")]),e._v(" And We're done")]),e._v(" "),a("p",[e._v("Just run:")]),e._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[e._v("heroku apps:open\n")])])]),a("p",[e._v("It'll open browser with your application. You'll see the url provided to you in step 2 of this page  ("),a("code",[e._v("https://desolate-fjord-53965.herokuapp.com/")]),e._v(" in our case).")]),e._v(" "),a("p",[e._v("Don't forget to sign in and declare yourself the admin ðŸ˜ƒ")]),e._v(" "),a("h2",{attrs:{id:"doing-it-all-with-a-user-interface"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#doing-it-all-with-a-user-interface"}},[e._v("#")]),e._v(" Doing it all with a user interface")]),e._v(" "),a("p",[e._v("Heroku has a web user interface to setup your app, define the db and set the config vars, you may find it easier to use.")])])},[],!1,null,null,null);t.default=o.exports}}]);